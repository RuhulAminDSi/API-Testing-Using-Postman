{
	"info": {
		"_postman_id": "9e95fd46-a250-4a4c-b717-d9d4ea9a3029",
		"name": "DMoney Transaction",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Customer",
			"item": [
				{
					"name": "Check Customer Limit",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "b1a94581-6729-46e2-83e4-3a0b3f063f1f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01706364497\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/limit/01706364497"
					},
					"response": []
				},
				{
					"name": "Check Customer Statement",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "228d78b7-86c1-41e0-bae4-e5405e2783e3",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01706364497\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/statement/01706364497"
					},
					"response": []
				},
				{
					"name": "Check Customer Balance",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "e28b4b7c-8e16-429f-8959-f0d6a8ffb070",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01706364497\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/balance/01730097970"
					},
					"response": []
				},
				{
					"name": "Deposit to Customer",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "fcf1af96-3e0b-457f-b955-234405b42e60",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "// {\r\n//   \"from_account\":\"SYSTEM\",\r\n//   \"to_account\": \"01779721528\", //,\r\n//   \"amount\":\"1000\" \r\n// }\r\n{\r\n  \"from_account\":\"01730097970\",\r\n  \"to_account\":\"01731460692\",\r\n  \"amount\": \"5000\"\r\n}\r\n\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/deposit"
					},
					"response": []
				},
				{
					"name": "Money Withdraw By Customer",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "df560f67-0b02-4251-83fd-3306ce1434a2",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\r\n{\r\n  \"to_account\":\"01730097970\",\r\n  \"from_account\":\"01731460692\",\r\n  \"amount\": \"100\"\r\n}\r\n\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/withdraw"
					},
					"response": []
				}
			],
			"id": "155861ef-4d3e-40ff-8db4-27e6dad56cf7"
		},
		{
			"name": "Agent",
			"item": [
				{
					"name": "Deposit to Agent",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "06bfeb6e-2ad8-4cfb-8542-240424bbfdd1",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01779721528\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/deposit"
					},
					"response": []
				},
				{
					"name": "Check agent balance",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "3c7088ac-04ef-429a-bf7f-b60f2d83a651",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01706364497\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/balance/01779721528"
					},
					"response": []
				},
				{
					"name": "Check agent statement",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "f3b03313-e87d-4b18-95f0-f59433f023c4",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01706364497\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/statement/01779721528"
					},
					"response": []
				}
			],
			"id": "c016cb5c-3c11-4b55-869c-0854f8d7785a"
		},
		{
			"name": "Merchant",
			"item": [
				{
					"name": "Check Merchant Balance",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "8b008dac-6e62-4ec4-b92e-2eb0dafb6992",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01706364497\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/balance/01779721528"
					},
					"response": []
				},
				{
					"name": "Payment by Customer",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "f6c775ba-4f18-476a-93f8-6086d21cf278",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"01731460692\",\r\n  \"to_account\": \"01745188265\", //,\r\n  \"amount\":\"10\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/payment"
					},
					"response": []
				}
			],
			"id": "3c0eccd2-4781-4503-8e78-01c9f2d2740b"
		},
		{
			"name": "System",
			"item": [
				{
					"name": "Check System Balance",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "859b4aed-d462-49f9-9905-046236024c4f",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "063f260b-cb13-478f-a8a8-b37942079724",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": {
								"token": "{{Token}}"
							}
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "JWT token",
								"type": "text"
							},
							{
								"key": "X-AUTH-SECRET-KEY",
								"value": "ROADTOSDET",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01706364497\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/transaction/balance/SYSTEM"
					},
					"response": []
				}
			],
			"id": "438c23e1-a2d4-481a-8bd7-80c7292e06bc"
		},
		{
			"name": "Send Money",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "859b4aed-d462-49f9-9905-046236024c4f",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "c1a6fe74-aaed-4c33-b16b-c3a68f95700d",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{Token}}"
					}
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "JWT token",
						"type": "text"
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"from_account\":\"01706364497\",\r\n  \"to_account\": \"01730097970\", \r\n  \"amount\": 10,\r\n  \"transaction_type\": \"send_money\" \r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{baseUrl}}/transaction/create"
			},
			"response": []
		},
		{
			"name": "Admin Login",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
						"exec": [
							"var jsonData = pm.response.json();\r",
							"var token = jsonData.token;\r",
							"pm.collectionVariables.set(\"token\", token);\r",
							"\r",
							"pm.test('Status code', ()=>{\r",
							"    pm.response.to.have.status(200);\r",
							"})\r",
							"\r",
							"pm.test('Login Successfully',()=>{\r",
							"    var jsonData = pm.response.json();\r",
							"    pm.expect(jsonData.message).to.contain(\"successful\")\r",
							"})\r",
							"\r",
							"\r",
							"pm.test(\"Store Access and Refresh Tokens\", function () {\r",
							"    var jsonData = pm.response.json();\r",
							"\r",
							"    // Store access token\r",
							"    pm.collectionVariables.set(\"Token\", jsonData.token);\r",
							"\r",
							"    // Store refresh token (assuming it's provided as `refreshToken` in the response)\r",
							"    pm.collectionVariables.set(\"reToken\", jsonData.refreshToken);\r",
							"\r",
							"    // Decode token to set expiry time\r",
							"    var decodedToken = JSON.parse(atob(jsonData.token.split(\".\")[1]));\r",
							"    pm.collectionVariables.set(\"tokenExpTime\", decodedToken.exp);\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "3215012f-f533-492b-a5c9-5b3ce6ce9a62",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "a0901755-2dab-4afc-829d-ff9fb2afd5cd",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "JWT token",
						"type": "text"
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n \"email\":\"admin@roadtocareer.net\",\r\n \"password\":\"1234\"\r\n }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{baseUrl}}/user/login"
			},
			"response": []
		},
		{
			"name": "Transaction List",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "abbb5531-8222-41e4-a1e8-48c145318413",
						"exec": [
							"const _ = require('atob')\r",
							"var accessToken = pm.collectionVariables.get(\"accessToken\");\r",
							"var refreshToken = pm.collectionVariables.get(\"refreshToken\");\r",
							"var expiryTime = pm.collectionVariables.get(\"tokenExpiryTime\");\r",
							"var currentTime = Math.floor(Date.now() / 1000);\r",
							"\r",
							"// Check if access token is missing or expired\r",
							"if (!accessToken || currentTime >= expiryTime) {\r",
							"    pm.sendRequest({\r",
							"        url: \"{{baseUrl}}/auth/refresh-token\", // Refresh token endpoint URL\r",
							"        method: \"POST\",\r",
							"        header: {\r",
							"            \"Content-Type\": \"application/json\"\r",
							"        },\r",
							"        body: {\r",
							"            mode: \"raw\",\r",
							"            raw: JSON.stringify({\r",
							"                refreshToken: refreshToken\r",
							"            })\r",
							"        }\r",
							"    }, function (err, res) {\r",
							"        if (!err && res.status === 200) {\r",
							"            var jsonData = res.json();\r",
							"\r",
							"            // Update access token and expiry time\r",
							"            pm.collectionVariables.set(\"accessToken\", jsonData.token);\r",
							"            var decodedToken = JSON.parse(atob(jsonData.token.split(\".\")[1]));\r",
							"            pm.collectionVariables.set(\"tokenExpiryTime\", decodedToken.exp);\r",
							"\r",
							"            console.log(\"Access token refreshed successfully.\");\r",
							"        } else {\r",
							"            console.log(\"Failed to refresh token. Please check the refresh token endpoint and credentials.\");\r",
							"        }\r",
							"    });\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "3a5a6995-1b95-4a76-9401-a3e92076ba30",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{Token}}"
					}
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{baseUrl}}/transaction/list"
			},
			"response": []
		},
		{
			"name": "Deposit to Agent Copy",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "859b4aed-d462-49f9-9905-046236024c4f",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "26b6b03a-ea08-4f4c-874b-172d2eac3419",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{Token}}"
					}
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "JWT token",
						"type": "text"
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01779721528\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{baseUrl}}/transaction/deposit"
			},
			"response": []
		},
		{
			"name": "Create User",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "a9db3098-3d71-4e8f-aff0-cffb1f04fdb0",
						"exec": [
							"const _ = require('lodash');\r",
							"var phoneNumber = \"017\" + _.random(10000000, 99999999);\r",
							"console.log(\"Generated Phone Number:\", phoneNumber);\r",
							"pm.collectionVariables.set('phoneNumber', phoneNumber);\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "43ff48d4-9d30-42fc-8005-5516e56cf318",
						"exec": [
							"console.log(\"User Id: \" + pm.response.json().user.id)\r",
							"var prop = pm.response.json().user;\r",
							"pm.collectionVariables.set('id', pm.response.json().user.id);\r",
							"\r",
							"pm.test('phoneNumber is length 11', ()=>{\r",
							"    var phoneNumber = pm.response.json();\r",
							"    console.log(phoneNumber)\r",
							"    })\r",
							"pm.collectionVariables.set('email', prop.email);\r",
							"pm.collectionVariables.set('password', prop.password);"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "f5695508-7029-45dc-a1ec-605018c82375",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{Token}}"
					}
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\":\"{{$randomFullName}}\",\r\n    \"email\":\"{{$randomEmail}}\",\r\n    \"password\":\"{{$randomPassword}}\",\r\n    \"phone_number\":\"{{phoneNumber}}\",\r\n    \"nid\":\"32794106\",\r\n    \"role\":\"Agent\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{baseUrl}}/user/create"
			},
			"response": []
		},
		{
			"name": "User Login",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
						"exec": [
							"var jsonData = pm.response.json();\r",
							"var token = jsonData.token;\r",
							"pm.collectionVariables.set(\"token\", token);\r",
							"\r",
							"pm.test('Status code', ()=>{\r",
							"    pm.response.to.have.status(200);\r",
							"})\r",
							"\r",
							"pm.test('Login Successfully',()=>{\r",
							"    var jsonData = pm.response.json();\r",
							"    pm.expect(jsonData.message).to.contain(\"successful\")\r",
							"})\r",
							"\r",
							"\r",
							"pm.test(\"Store Access and Refresh Tokens\", function () {\r",
							"    var jsonData = pm.response.json();\r",
							"\r",
							"    // Store access token\r",
							"    pm.collectionVariables.set(\"accessToken\", jsonData.token);\r",
							"\r",
							"    // Store refresh token (assuming it's provided as `refreshToken` in the response)\r",
							"    pm.collectionVariables.set(\"refreshToken\", jsonData.refreshToken);\r",
							"\r",
							"    // Decode token to set expiry time\r",
							"    var decodedToken = JSON.parse(atob(jsonData.token.split(\".\")[1]));\r",
							"    pm.collectionVariables.set(\"tokenExpiryTime\", decodedToken.exp);\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "4553429a-4970-4724-abe8-8125f95bef2c",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "d498d7db-01be-4149-8922-3baac90a5bc2",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{Token}}"
					}
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "JWT token",
						"type": "text"
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n \"email\":\"{{email}}\",\r\n \"password\":\"{{password}}\"\r\n }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{baseUrl}}/user/login"
			},
			"response": []
		},
		{
			"name": "Search by transaction ID",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a8dea4df-4e65-4c87-987a-bf1729d64ba4",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "859b4aed-d462-49f9-9905-046236024c4f",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "ca907555-e8ff-4bc9-a2ad-98df253bc2d3",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{Token}}"
					}
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "JWT token",
						"type": "text"
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"from_account\":\"SYSTEM\",\r\n  \"to_account\": \"01706364497\", //,\r\n  \"amount\":\"1000\" \r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": "{{baseUrl}}/transaction/search/TXN91131"
			},
			"response": []
		},
		{
			"name": "SearchUser",
			"id": "6e8ecff5-20f9-4079-a86d-eefda2171095",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{accessToken}}"
					}
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text",
						"disabled": true
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "id",
							"value": "10506",
							"type": "text"
						}
					]
				},
				"url": "{{baseUrl}}/user/search/id/10506"
			},
			"response": []
		},
		{
			"name": "Get User Details",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "66a49229-9c57-41d7-b495-3fcad04a5717",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "d4741dbe-91a7-4367-8452-43e4c20d325b",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{Token}}"
					}
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text",
						"disabled": true
					},
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "id",
							"value": "10506",
							"type": "text"
						}
					]
				},
				"url": "{{baseUrl}}/user/search/id/10506"
			},
			"response": []
		},
		{
			"name": "UpdateUser",
			"id": "74c28109-ac28-4450-881b-7dd72852c134",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "PUT",
				"header": []
			},
			"response": []
		},
		{
			"name": "Cancel Transaction",
			"id": "d00b9433-f3c4-4600-beaa-5d7128ae3056",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": {
						"token": "{{token}}"
					}
				},
				"method": "DELETE",
				"header": [
					{
						"key": "X-AUTH-SECRET-KEY",
						"value": "ROADTOSDET",
						"type": "text"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "id",
							"value": "TXN91131",
							"type": "text"
						}
					]
				},
				"url": "{{baseUrl}}/transaction/cancel/{{id}}"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "67a375c7-bd15-4a75-acbe-43796cb0879c",
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "d0f7c3a4-f028-451b-9377-41c422f9482f",
				"type": "text/javascript",
				"packages": {},
				"exec": [
					"// pm.test(\"Store Token\", function () {\r",
					"//     var jsonData = pm.response.json();\r",
					"//     pm.collectionVariables.set(\"authToken\", jsonData.token);\r",
					"// });\r",
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://dmoney.roadtocareer.net",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		},
		{
			"key": "id",
			"value": "",
			"type": "string"
		},
		{
			"key": "phoneNumber",
			"value": "",
			"type": "string"
		},
		{
			"key": "email",
			"value": "",
			"type": "string"
		},
		{
			"key": "password",
			"value": "",
			"type": "string"
		},
		{
			"key": "Token",
			"value": "",
			"type": "string"
		},
		{
			"key": "reToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "tokenExpTime",
			"value": "",
			"type": "string"
		},
		{
			"key": "accessToken",
			"value": ""
		},
		{
			"key": "refreshToken",
			"value": ""
		},
		{
			"key": "tokenExpiryTime",
			"value": ""
		}
	]
}